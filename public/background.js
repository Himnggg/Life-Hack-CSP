"use strict";(()=>{var t={US:{code:"US",name:"United States",flag:"\u{1F1FA}\u{1F1F8}",timezone:"America/New_York",languages:["en-US","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"en-US,en;q=0.9",locale:"en-US",currency:"USD",dateFormat:"MM/DD/YYYY",numberFormat:"1,234.56",geolocation:{latitude:40.7128,longitude:-74.006,accuracy:1e4}},GB:{code:"GB",name:"United Kingdom",flag:"\u{1F1EC}\u{1F1E7}",timezone:"Europe/London",languages:["en-GB","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"en-GB,en;q=0.9",locale:"en-GB",currency:"GBP",dateFormat:"DD/MM/YYYY",numberFormat:"1,234.56",geolocation:{latitude:51.5074,longitude:-.1278,accuracy:1e4}},DE:{code:"DE",name:"Germany",flag:"\u{1F1E9}\u{1F1EA}",timezone:"Europe/Berlin",languages:["de-DE","de","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"de-DE,de;q=0.9,en;q=0.8",locale:"de-DE",currency:"EUR",dateFormat:"DD.MM.YYYY",numberFormat:"1.234,56",geolocation:{latitude:52.52,longitude:13.405,accuracy:1e4}},FR:{code:"FR",name:"France",flag:"\u{1F1EB}\u{1F1F7}",timezone:"Europe/Paris",languages:["fr-FR","fr","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"fr-FR,fr;q=0.9,en;q=0.8",locale:"fr-FR",currency:"EUR",dateFormat:"DD/MM/YYYY",numberFormat:"1 234,56",geolocation:{latitude:48.8566,longitude:2.3522,accuracy:1e4}},CA:{code:"CA",name:"Canada",flag:"\u{1F1E8}\u{1F1E6}",timezone:"America/Toronto",languages:["en-CA","fr-CA","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"en-CA,fr-CA;q=0.9,en;q=0.8",locale:"en-CA",currency:"CAD",dateFormat:"YYYY-MM-DD",numberFormat:"1,234.56",geolocation:{latitude:43.6532,longitude:-79.3832,accuracy:1e4}},JP:{code:"JP",name:"Japan",flag:"\u{1F1EF}\u{1F1F5}",timezone:"Asia/Tokyo",languages:["ja-JP","ja","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"ja-JP,ja;q=0.9,en;q=0.8",locale:"ja-JP",currency:"JPY",dateFormat:"YYYY/MM/DD",numberFormat:"1,234",geolocation:{latitude:35.6762,longitude:139.6503,accuracy:1e4}},AU:{code:"AU",name:"Australia",flag:"\u{1F1E6}\u{1F1FA}",timezone:"Australia/Sydney",languages:["en-AU","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"en-AU,en;q=0.9",locale:"en-AU",currency:"AUD",dateFormat:"DD/MM/YYYY",numberFormat:"1,234.56",geolocation:{latitude:-33.8688,longitude:151.2093,accuracy:1e4}},BR:{code:"BR",name:"Brazil",flag:"\u{1F1E7}\u{1F1F7}",timezone:"America/Sao_Paulo",languages:["pt-BR","pt","en"],userAgents:{chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",firefox:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",edge:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},acceptLanguage:"pt-BR,pt;q=0.9,en;q=0.8",locale:"pt-BR",currency:"BRL",dateFormat:"DD/MM/YYYY",numberFormat:"1.234,56",geolocation:{latitude:-23.5505,longitude:-46.6333,accuracy:1e4}}};var o=class{constructor(){this.settings={enabled:!1,selectedCountry:"US",selectedBrowser:"chrome",overrideTimezone:!0,overrideLanguage:!0,overrideUserAgent:!0,overrideGeolocation:!0,clearCookies:!1,clearCache:!1};this.initialize()}async initialize(){await this.loadSettings(),chrome.runtime.onInstalled.addListener(()=>this.onInstalled()),chrome.runtime.onMessage.addListener((e,i,a)=>this.handleMessage(e,i,a)),await this.applySettings()}async loadSettings(){try{let e=await chrome.storage.sync.get(["settings"]);e.settings&&(this.settings={...this.settings,...e.settings})}catch(e){console.error("Failed to load settings:",e)}}async saveSettings(){try{await chrome.storage.sync.set({settings:this.settings})}catch(e){console.error("Failed to save settings:",e)}}async onInstalled(){await chrome.storage.sync.set({settings:this.settings,profiles:t})}async handleMessage(e,i,a){switch(e.type){case"GET_SETTINGS":a({settings:this.settings});break;case"UPDATE_SETTINGS":this.settings={...this.settings,...e.settings},await this.saveSettings(),await this.applySettings(),a({success:!0});break;case"GET_PROFILES":a({profiles:t});break;case"CLEAR_DATA":await this.clearBrowserData(),a({success:!0});break;default:a({error:"Unknown message type"})}}async applySettings(){if(!this.settings.enabled){await this.removeHeaderRules();return}let e=t[this.settings.selectedCountry];if(!e){console.error("Invalid country profile:",this.settings.selectedCountry);return}await this.updateHeaderRules(e),await this.notifyContentScripts()}async updateHeaderRules(e){try{await chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[1,2,3]});let i=[];if(this.settings.overrideUserAgent){let a=this.settings.customUserAgent||e.userAgents[this.settings.selectedBrowser];i.push({id:1,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"User-Agent",operation:"set",value:a}]},condition:{urlFilter:"*",resourceTypes:["main_frame","sub_frame","xmlhttprequest"]}})}this.settings.overrideLanguage&&i.push({id:2,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"Accept-Language",operation:"set",value:e.acceptLanguage}]},condition:{urlFilter:"*",resourceTypes:["main_frame","sub_frame","xmlhttprequest"]}}),i.length>0&&await chrome.declarativeNetRequest.updateDynamicRules({addRules:i})}catch(i){console.error("Failed to update header rules:",i)}}async removeHeaderRules(){try{await chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[1,2,3]})}catch(e){console.error("Failed to remove header rules:",e)}}async notifyContentScripts(){try{let e=await chrome.tabs.query({}),i=t[this.settings.selectedCountry];for(let a of e)if(a.id&&a.url&&!a.url.startsWith("chrome://"))try{await chrome.tabs.sendMessage(a.id,{type:"UPDATE_SPOOFING",settings:this.settings,profile:i})}catch{}}catch(e){console.error("Failed to notify content scripts:",e)}}async clearBrowserData(){try{let e={};this.settings.clearCookies&&(e.cookies=!0),this.settings.clearCache&&(e.cache=!0,e.cacheStorage=!0),Object.keys(e).length>0&&await chrome.browsingData.remove({since:Date.now()-24*60*60*1e3},e)}catch(e){console.error("Failed to clear browser data:",e)}}};new o;})();
